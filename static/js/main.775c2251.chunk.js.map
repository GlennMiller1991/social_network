{"version":3,"sources":["components/Content/Nava/Nava.module.css","components/Content/Login/Login.module.css","api/authAPI.ts","reportWebVitals.ts","api/serverApi.ts","redux/authReducer.ts","redux/appReducer.ts","redux/postsReducer.ts","redux/shareStoryReducer.ts","redux/dialogsReducer.ts","redux/sidebarReducer.ts","api/profileAPI.ts","redux/profileReducer.ts","api/usersAPI.ts","api/followAPI.ts","redux/usersReducer.tsx","redux/redux_store.ts","utils/validators/validator.ts","components/Header/Header.tsx","components/Content/Nava/LoginButton/LoginButton.tsx","components/Content/Nava/Nava.tsx","static/anonym.jpg","components/common/visual/PageLoader/PageLoader.tsx","components/Content/Profile/UserInfo/UserStatus/UserStatus.tsx","components/Content/Profile/UserInfo/UserInfo.tsx","components/Content/Profile/Profile.tsx","components/Content/Login/Login.tsx","components/common/hoc/withAuthRedirect.tsx","components/Content/Profile/ProfileContainer.tsx","components/Content/Posts/Post/Post.tsx","components/Content/Users/Pagination/Pagination.tsx","components/Content/Users/Pagination/PaginationContainer.tsx","components/Content/Posts/Posts.tsx","components/Content/Posts/PostsSideEffectContainer.tsx","components/Content/Posts/PostsContainer.tsx","components/Content/Dialogs/Chat/Chat.tsx","components/Content/Dialogs/OpenDialog/OpenDialog.tsx","components/Content/Dialogs/Dialogs.tsx","components/Content/Dialogs/DialogsSideEffectContainer.tsx","components/Content/Dialogs/DialogsContainer.tsx","components/Content/ShareStory/ShareStoryContainer.tsx","components/Content/Sidebar/BestPosts/BestPosts.tsx","components/Content/Sidebar/Tags/Tag/Tag.tsx","components/Content/Sidebar/Tags/Tags.tsx","components/Content/Sidebar/Sidebar.tsx","components/Content/Sidebar/SidebarContainer.tsx","components/Content/Users/User/User.tsx","components/Content/Users/Users.tsx","components/Content/Users/UsersSideEffectContainer.tsx","components/Content/Users/UsersContainer.tsx","components/Content/Content.tsx","components/ErrorMessage/ErrorMessage.tsx","App.tsx","index.tsx","components/Content/Posts/Post/Post.module.css","components/Content/Users/User/User.module.css","components/Content/Dialogs/Dialogs.module.css","components/Content/Content.module.css","components/Content/Profile/UserInfo/UserInfo.module.css","components/Content/Users/Pagination/Pagination.module.css","components/Content/Sidebar/Sidebar.module.css","components/Header/Header.module.css","components/Content/Dialogs/Chat/Chat.module.css","components/Content/ShareStory/ShareStory.module.css","components/Content/Posts/Posts.module.css","components/Content/Users/Users.module.css","components/ErrorMessage/ErrorMessage.module.css"],"names":["module","exports","responseCodes","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","serverApi","axios","create","baseURL","withCredentials","headers","authAPI","get","response","data","login","params","post","delete","SET_AUTH_DATA","NULL_DATA","SET_VK_IS_AUTH","initialState","id","email","isAuth","vkIsAuth","setVkIsAuth","type","payload","checkMyAuth","dispatch","console","log","resultCode","setAuthData","res","success","Error","messages","catch","err","setError","message","SET_ERROR","INITIALIZING","error","initializing","isInitialized","initializingThunk","count","initObject","isVkAuth","posts","Promise","resolve","VK","Auth","status","Api","call","v","owner_id","hasOwnProperty","items","length","error_msg","batch","setPosts","CHANGE_PAGE_SIZE","SET_POSTS","CHANGE_FIELD_VALUE","CHANGE_POSTS_PAGE","renewPosts","requiredPage","pageSize","pageNumber","currentPage","field","String","offset","CHANGE_SHARE_STORY_TEXT","storyText","FILTER_MESSAGES","chat","v1","author","dialogs","name","filter","tags","priority","bestPosts","text","profileAPI","userId","newStatus","put","CHANGE_NEW_COMMENT_TEXT","ADD_COMMENT","SET_USER","CHANGE_LOAD_USER_STATUS","CHANGE_MY_STATUS","setUser","user","currentUserData","currentUserId","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","fullName","photos","small","large","loadUserStatus","comments","postId","answer","newComm","usersAPI","followAPI","FOLLOW","UNFOLLOW","SET_USERS","CHANGE_USER_PAGE","CHANGE_PAGE_FIELD_VALUE","CHANGE_LOAD_STATUS","CHANGE_SUB_BTN","changeSubBtn","value","setUsers","users","total","totalUsersCount","pageFieldValue","usersIsLoaded","reducers","combineReducers","postsPage","state","action","profilePage","comment","shareStoryPage","shareStoryText","dialogsPage","sideBar","usersPage","map","followed","waitForChangingStatus","authState","appState","form","formReducer","store","createStore","applyMiddleware","thunk","window","maxChars","Header","useDispatch","styles","header","textContainer","enterBtn","onClick","imgBtn","src","alt","LoginButton","React","memo","useSelector","className","button","link","activeClassName","active","to","NavaSecret","nava","Nava","PageLoader","useState","seconds","setSeconds","secondsStyle","transform","minutesStyle","hoursStyle","useEffect","intervalId","setInterval","clearInterval","style","UserStatus","props","editMode","onChangeStatusHandler","e","setState","currentTarget","toggleChangeMode","onBlurStatusHandler","this","isYourStatus","Fragment","autoFocus","onBlur","onChange","onDoubleClick","Component","UserInfo","wrapper","photoWrapper","photo","anonym","changeStatusHandler","currentUser","Profile","requiredField","maxLength10","Login","main","sign","LoginReduxForm","onSubmit","formData","reduxForm","handleSubmit","form1","Field","un","placeholder","component","Input","validate","pass","submit","forgot","href","meta","input","restProps","touched","withAuthRedirect","ProfileSideEffectContainer","renew","setRenew","onChangeCallback","useCallback","event","onClickCallback","addCommentActionCreator","changeMyStatusHandler","changeMyStatus","document","title","match","Number","statusData","finally","setTimeout","ProfileContainer","compose","withRouter","PostSecret","rest","like","icon","postInfo","likes","postDate","Date","date","toLocaleDateString","year","month","day","hour","minute","hour12","postText","Post","PaginationSecret","pages","changePage","onClickHandler","size","onKeyPress","onKeyPressHandler","changePageFieldValue","lastPage","totalPages","Pagination","PaginationContainer","renewUsers","key","Math","ceil","PostsSecret","changeFieldValue","renewItems","classes","pagination","hash","Posts","PostsSideEffectContainer","PostsContainer","connect","onChangeFilterHandler","ChatSecret","mappedMessages","m","you","notYou","Chat","OpenDialogSecret","openDialog","OpenDialog","DialogsSecret","chatMessagesForRender","useMemo","dialogState","mes","container","filterMessages","openDialogs","dialog","Dialogs","DialogsSideEffectContainer","DialogsContainer","ShareStoryContainer","ShareStory","postMessage","story","ShareForm","txt","TextArea","errorBorder","btn","BestPostsSecret","bestPost","BestPosts","TagSecret","tagStyle","fontSize","Tag","TagsSecret","tag","Tags","SidebarSecret","sidebar","Sidebar","SidebarContainer","User","visual","slice","unsubBtn","unfollowUser","disabled","subBtn","followUser","UsersSecret","page","uniqueUrlName","Users","UsersSideEffectContainer","getUsers","UsersContainer","setIntervalId","item","totalCount","follow","unfollow","Content","content","contentContent","general","path","exact","render","ErrorMessage","errorMessage","errorText","AppSecret","App","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.775c2251.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nava\":\"Nava_nava__3ng8W\",\"button\":\"Nava_button__1AI8P\",\"active\":\"Nava_active__3ShkY\",\"loginButton\":\"Nava_loginButton__1Ar0C\",\"login\":\"Nava_login__362vL\",\"greeting\":\"Nava_greeting__QGePN\",\"link\":\"Nava_link__1MjQv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Login_main__fbv1-\",\"sign\":\"Login_sign__1FVcN\",\"un\":\"Login_un__2vRM8\",\"form1\":\"Login_form1__zpRwZ\",\"pass\":\"Login_pass__cyxH3\",\"submit\":\"Login_submit__vAIED\",\"forgot\":\"Login_forgot__vqJJz\",\"error\":\"Login_error__2Gcv4\"};","import {serverApi} from \"./serverApi\";\r\n\r\n// type authResponseType = {\r\n//     data: {\r\n//         id: number,\r\n//         login: string,\r\n//         email: string,\r\n//     },\r\n//     messages: string[],\r\n//     fieldsErrors: string[],\r\n//     resultCode: number,\r\n// }\r\n\r\nexport const authAPI = {\r\n    checkAuth() {\r\n        return serverApi\r\n            .get<authResponseType<{id: number, email: string, login: string}>>(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    log(login: boolean, params?: {email: string, password: string}) {\r\n        if (login) return serverApi\r\n            .post<authResponseType>('auth/login', {...params})\r\n            .then(response => response.data)\r\n        else return serverApi\r\n            .delete<authResponseType>('auth/login')\r\n            .then(response => response.data)\r\n    },\r\n}\r\n\r\nexport enum responseCodes {\r\n    success,\r\n}\r\n\r\ntype authResponseType<T = {}> = {\r\n    resultCode: responseCodes,\r\n    messages: string[],\r\n    data: T,\r\n}\r\n\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import axios from \"axios\";\r\n\r\nexport const serverApi = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '686ffc4e-9713-4acd-8b49-1b6f4dcbd337',\r\n    },\r\n})","import {actionsType} from \"./redux_store\";\r\nimport {authAPI, responseCodes} from \"../api/authAPI\";\r\nimport {Dispatch} from \"redux\";\r\nimport {setError} from \"./appReducer\";\r\n\r\nconst SET_AUTH_DATA = 'SET-AUTH-DATA'\r\nconst NULL_DATA = 'NULL_DATA'\r\nconst SET_VK_IS_AUTH = 'SET_VK_IS_AUTH'\r\n\r\nexport type authType = {\r\n    id: null | number,\r\n    login: null | string,\r\n    email: null | string,\r\n    isAuth: boolean,\r\n    vkIsAuth: boolean,\r\n}\r\nconst initialState: authType = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    vkIsAuth: false,\r\n}\r\n\r\n//actions types\r\nexport type setAuthDataActionType = ReturnType<typeof setAuthData>\r\nexport type nullDataActionType = ReturnType<typeof nullData>\r\nexport type setVkIsAuthActionType = ReturnType<typeof setVkIsAuth>\r\n\r\n//action creators\r\nexport const setVkIsAuth = (vkIsAuth: boolean) => {\r\n    return {\r\n        type: SET_VK_IS_AUTH,\r\n        payload: {\r\n            vkIsAuth,\r\n        }\r\n    } as const\r\n}\r\nexport const setAuthData = (id: number, login: string, email: string) => {\r\n    return {\r\n        type: SET_AUTH_DATA,\r\n        payload: {\r\n            id,\r\n            login,\r\n            email,\r\n        }\r\n    } as const\r\n}\r\n\r\nexport const nullData = () => {\r\n    return {\r\n        type: NULL_DATA,\r\n        payload: {\r\n            id: null,\r\n            login: null,\r\n            email: null,\r\n            isAuth: false,\r\n        }\r\n    } as const\r\n}\r\n\r\n\r\nexport const checkMyAuth = () => (dispatch: Dispatch) => {\r\n    authAPI.checkAuth()\r\n        .then(response => {\r\n                console.log('from then', response)\r\n                if (!response.resultCode) {\r\n                    const {id, login, email} = response.data\r\n                    dispatch(setAuthData(id, login, email))\r\n                } else {\r\n                    dispatch(nullData())\r\n                }\r\n            }\r\n        )\r\n}\r\nexport const log = (login: boolean, payload?: { email: string, password: string }) => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        authAPI.log(login, payload)\r\n            .then((res) => {\r\n                if (res.resultCode !== responseCodes.success) {\r\n                    throw new Error(res.messages[0] || 'Unknown error')\r\n                } else {\r\n                    dispatch(checkMyAuth())\r\n                }\r\n            })\r\n            .catch(err => {\r\n                dispatch(setError(err.message))\r\n            })\r\n    }\r\n}\r\n\r\nexport const authReducer = (state: authType = initialState, action: actionsType) => {\r\n    switch (action.type) {\r\n        case SET_VK_IS_AUTH:\r\n        case NULL_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case SET_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuth: true,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import {actionsType} from \"./redux_store\";\r\nimport {setPosts, vkPostType} from \"./postsReducer\";\r\nimport {batch} from \"react-redux\";\r\nimport {checkMyAuth, setVkIsAuth} from \"./authReducer\";\r\nimport {Dispatch} from \"redux\";\r\nimport {vkWallGetResponseType, vkSessionType, successResponseType, errorResponseType} from \"../api/vkAPI\";\r\n\r\nconst SET_ERROR = 'SET_ERROR'\r\nconst INITIALIZING = 'INITIALIZING'\r\nexport const defaultPageSize = 10\r\n\r\n//actions and types\r\nexport type setErrorActionType = ReturnType<typeof setError>\r\nexport type initializingActionType = ReturnType<typeof initializing>\r\nexport const setError = (error: string) => {\r\n    return {\r\n        type: SET_ERROR,\r\n        payload: {\r\n            error,\r\n        }\r\n    } as const\r\n}\r\nexport const initializing = () => {\r\n    return {\r\n        type: INITIALIZING,\r\n        payload: {\r\n            isInitialized: true,\r\n        }\r\n    } as const\r\n}\r\nexport const initializingThunk = (count?: number) => (dispatch: Dispatch<any>) => {\r\n    const initObject = {isInitialized: true, isVkAuth: false, posts: [] as vkPostType[], count: 0, error: ''}\r\n\r\n    const vkAuth = () => {\r\n        return new Promise<vkSessionType>(resolve => {\r\n            //@ts-ignore\r\n            VK.Auth.login(resolve)\r\n        })\r\n            .then((res) => {\r\n                if (res.status === 'connected') {\r\n                    initObject.isVkAuth = true\r\n                } else {\r\n                    initObject.error = 'You are not authorized in VK'\r\n                    throw new Error('not_authorized')\r\n                    //dispatch(setError('You are not authorized in VK'))\r\n                }\r\n            })\r\n    }\r\n    const vkGetWall = () => {\r\n        return new Promise<vkWallGetResponseType>((resolve) => {\r\n            //@ts-ignore\r\n            VK.Api.call('wall.get', {\r\n                v: 5.131,\r\n                owner_id: -34215577,\r\n                count: count ? count : defaultPageSize\r\n            }, resolve)\r\n        })\r\n            .then((res) => {\r\n                    if (res.hasOwnProperty('response')) {\r\n                        const response = res as successResponseType\r\n                        if (response.response.items.length) {\r\n                            initObject.posts = response.response.items\r\n                            initObject.count = response.response.count\r\n                            console.log('from items')\r\n                            //dispatch(setPosts(response.response.items, response.response.count))\r\n                        }\r\n                    } else if (res.hasOwnProperty('error')) {\r\n                        const response = res as errorResponseType\r\n                        if (response.error.error_msg) {\r\n                            initObject.error = response.error.error_msg\r\n                            //dispatch(setError(response.error.error_msg))\r\n                        }\r\n                    } else {\r\n                        initObject.error = 'unknown error'\r\n                        //dispatch(setError('unknown error'))\r\n                    }\r\n                })\r\n    }\r\n\r\n    vkAuth()\r\n        .then(() => {\r\n            vkGetWall()\r\n                .then(() => {\r\n                    batch(() => {\r\n                        dispatch(setVkIsAuth(initObject.isVkAuth))\r\n                        dispatch(setPosts(initObject.posts, initObject.count))\r\n                        dispatch(setError(initObject.error))\r\n                        dispatch(checkMyAuth())\r\n                        dispatch(initializing())\r\n                    })\r\n                })\r\n        })\r\n        .catch((err) => {\r\n            batch(() => {\r\n                dispatch(setVkIsAuth(initObject.isVkAuth))\r\n                dispatch(setPosts(initObject.posts, initObject.count))\r\n                dispatch(setError(initObject.error))\r\n                dispatch(checkMyAuth())\r\n                dispatch(initializing())\r\n            })\r\n        })\r\n\r\n}\r\n\r\n\r\nexport type appStateType = typeof initialState\r\nconst initialState = {\r\n    error: '' as string,\r\n    isInitialized: false as boolean,\r\n}\r\n\r\nexport const appReducer = (state: appStateType = initialState, action: actionsType) => {\r\n    switch (action.type) {\r\n        case SET_ERROR:\r\n        case INITIALIZING:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import {actionsType, dispatchType} from \"./redux_store\";\r\nimport {errorResponseType, successResponseType, vkWallGetResponseType} from \"../api/vkAPI\";\r\nimport {defaultPageSize, setError} from \"./appReducer\";\r\n\r\n//constants\r\nconst ADD_POST = \"ADD-POST\"\r\nconst CHANGE_PAGE_SIZE = 'CHANGE_PAGE_SIZE'\r\nconst SET_POSTS = 'SET_POSTS'\r\nconst CHANGE_FIELD_VALUE = 'CHANGE_FIELD_VALUE'\r\nconst CHANGE_POSTS_PAGE = 'CHANGE_POSTS_PAGE'\r\n\r\n//actions types\r\nexport type addPostActionType = ReturnType<typeof addPostActionCreator>\r\nexport type filterPostsActionType = ReturnType<typeof changePageSizeActionCreator>\r\nexport type setPostsActionType = ReturnType<typeof setPosts>\r\nexport type changeFieldValueActionType = ReturnType<typeof changeFieldValue>\r\nexport type changePostsPageActionType = ReturnType<typeof changePostsPage>\r\n//types\r\nexport type PostType = {\r\n    postText: string\r\n    postPhoto: string\r\n    postDate: string\r\n    postLikes: number\r\n    postId: string\r\n}\r\nexport type vkPostType = {\r\n    attachments: any, //need!!\r\n    comments: {\r\n        count: number,\r\n        donut: {\r\n            placeholder: {\r\n                text: string,\r\n            }\r\n        }\r\n    },\r\n    date: number,\r\n    donut: {\r\n        is_donut: boolean,\r\n    },\r\n    from_id: number,\r\n    hash: string,\r\n    id: number,\r\n    is_favorite: boolean,\r\n    likes: {\r\n        can_like: number,\r\n        count: number,\r\n        user_likes: number,\r\n    },\r\n    marked_as_ads: number,\r\n    owner_id: number,\r\n    post_type: string,\r\n    reposts: {\r\n        count: number,\r\n    },\r\n    short_text_rate: number,\r\n    text: string,\r\n    views: {\r\n        count: number,\r\n    },\r\n}\r\nexport type pageSizeType = 3 | 10 | 20\r\n\r\nexport type postsPageType = {\r\n    posts: Array<vkPostType>\r\n    pageSize: pageSizeType,\r\n    count: number,\r\n    currentPage: number,\r\n    field: string,\r\n}\r\n\r\nexport const changeFieldValue = (field: string) => {\r\n    return {\r\n        type: CHANGE_FIELD_VALUE,\r\n        payload: {\r\n            field\r\n        }\r\n    } as const\r\n}\r\nexport const addPostActionCreator = (value: string) => {\r\n    return {type: ADD_POST, postMessage: value} as const\r\n}\r\nexport const changePageSizeActionCreator = (pageSize: pageSizeType) => {\r\n    return {\r\n        type: CHANGE_PAGE_SIZE,\r\n        payload: {\r\n            pageSize,\r\n        }\r\n    } as const\r\n}\r\nexport const setPosts = (posts: vkPostType[], count: number) => {\r\n    return {\r\n        type: SET_POSTS,\r\n        payload: {\r\n            posts,\r\n            count,\r\n        }\r\n    } as const\r\n}\r\nexport const changePostsPage = (pageNumber: number) => {\r\n    return {\r\n        type: CHANGE_POSTS_PAGE,\r\n        payload: {\r\n            currentPage: pageNumber,\r\n            field: String(pageNumber),\r\n        }\r\n    } as const\r\n}\r\nexport const renewPosts = (requiredPage: number, pageSize: number, count?: number) => {\r\n    return (dispatch: dispatchType) => {\r\n        dispatch(changePostsPage(requiredPage))\r\n        //@ts-ignore\r\n        VK.Api.call('wall.get',\r\n            {v: 5.131, owner_id: -34215577, count: count? count: defaultPageSize, offset: (requiredPage - 1) * pageSize},\r\n            (res: vkWallGetResponseType) => {\r\n                if (res.hasOwnProperty('response')) {\r\n                    const response = res as successResponseType\r\n                    if (response.response.items.length) {\r\n                        dispatch(setPosts(response.response.items, response.response.count))\r\n                    }\r\n                } else if (res.hasOwnProperty('error')) {\r\n                    const response = res as errorResponseType\r\n                    if (response.error.error_msg) {\r\n                        dispatch(setError(response.error.error_msg))\r\n                    }\r\n                } else {\r\n                    dispatch(setError('unknown error'))\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst initialState: postsPageType = {\r\n    posts: [],\r\n    pageSize: defaultPageSize,\r\n    count: 0,\r\n    currentPage: 1,\r\n    field: '1',\r\n}\r\n\r\nexport const postsReducer = (state: postsPageType = initialState, action: actionsType): postsPageType => {\r\n    switch (action.type) {\r\n        case SET_POSTS:\r\n        case CHANGE_POSTS_PAGE:\r\n        case CHANGE_PAGE_SIZE:\r\n        case CHANGE_FIELD_VALUE:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import {actionsType} from \"./redux_store\";\r\n\r\n//constants\r\nconst CHANGE_SHARE_STORY_TEXT = 'CHANGE-SHARE-STORY-TEXT'\r\n\r\n//actions creators\r\nexport const changeShareStoryTextActionCreator = (text: string) => {\r\n    return {\r\n        type: CHANGE_SHARE_STORY_TEXT,\r\n        shareStoryText: text\r\n    } as const\r\n}\r\n\r\n//actions types\r\nexport type changeShareStoryTextActionType = ReturnType<typeof changeShareStoryTextActionCreator>\r\n\r\n//data\r\nconst initialState: shareStoryPageType = {\r\n    storyText: ''\r\n}\r\n\r\n//types\r\nexport type shareStoryPageType = {\r\n    storyText: string\r\n}\r\n\r\n//reducer\r\nexport const shareStoryReducer = (state: shareStoryPageType = initialState, action: actionsType) => {\r\n    switch(action.type) {\r\n        case CHANGE_SHARE_STORY_TEXT:\r\n            return {...state, storyText: action.shareStoryText}\r\n        default:\r\n            return state\r\n    }\r\n}","import {v1} from \"uuid\";\r\nimport {actionsType} from \"./redux_store\";\r\n\r\n//constants\r\nexport const FILTER_MESSAGES = 'FILTER-MESSAGES'\r\n\r\n//types\r\nexport type ChatType = {\r\n    id: string\r\n    author: 'you' | 'notYou'\r\n    message: string\r\n}\r\nexport type OpenDialogType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type dialogsPageType = {\r\n    chat: Array<ChatType>\r\n    dialogs: Array<OpenDialogType>\r\n    filter: string\r\n}\r\n\r\n//actions types\r\nexport type filterMessagesActionType = ReturnType<typeof filterMessages>\r\n\r\n//action creators\r\nexport const filterMessages = (value: string) => {\r\n    return {\r\n        type: FILTER_MESSAGES,\r\n        payload: {\r\n            filter: value\r\n        }\r\n    } as const\r\n}\r\n\r\nexport const initialState: dialogsPageType = {\r\n    chat: [\r\n        {\r\n            id: v1(),\r\n            author: 'notYou',\r\n            message: 'How are you'\r\n        },\r\n        {\r\n            id: v1(),\r\n            author: 'you',\r\n            message: 'How are you'\r\n        },\r\n        {\r\n            id: v1(),\r\n            author: 'notYou',\r\n            message: 'How are you'\r\n        },\r\n\r\n    ],\r\n    dialogs: [\r\n        {name: 'Katya', id: v1()},\r\n        {name: 'Dasha', id: v1()},\r\n        {name: 'Anna', id: v1()},\r\n        {name: 'Viktor', id: v1()},\r\n        {name: 'Andrey', id: v1()},\r\n    ],\r\n    filter: 'all'\r\n}\r\n\r\nexport const dialogsReducer = (state: dialogsPageType = initialState, action: actionsType): dialogsPageType => {\r\n    switch (action.type) {\r\n        case FILTER_MESSAGES:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import {v1} from \"uuid\";\r\nimport {actionsType} from \"./redux_store\";\r\n\r\n\r\n//types\r\nexport type bestPostType = {\r\n    text: string\r\n    id: string\r\n}\r\nexport type tagType = {\r\n    name: string\r\n    priority: number\r\n}\r\nexport type sideBarType = {\r\n    tags: Array<tagType>\r\n    bestPosts: Array<bestPostType>\r\n}\r\n\r\n//data\r\nconst initialState = {\r\n    tags: [\r\n        {\r\n            name: 'Family',\r\n            priority: 9,\r\n        },\r\n        {\r\n            name: 'Strange',\r\n            priority: 16,\r\n        },\r\n        {\r\n            name: 'Love',\r\n            priority: 14,\r\n        },\r\n        {\r\n            name: 'Pizdec',\r\n            priority: 20,\r\n        },\r\n        {\r\n            name: 'Scary',\r\n            priority: 13,\r\n        },\r\n        {\r\n            name: 'Childhood',\r\n            priority: 12,\r\n        },\r\n        {\r\n            name: 'Work',\r\n            priority: 22,\r\n        },\r\n    ],\r\n    bestPosts: [\r\n        {text: 'Best post', id: v1()},\r\n        {text: 'Best post', id: v1()},\r\n        {text: 'Best post', id: v1()},\r\n        {text: 'Best post', id: v1()},\r\n        {text: 'Best post', id: v1()},\r\n        {text: 'Best post', id: v1()},\r\n    ],\r\n}\r\n\r\n//reducer\r\nexport const sidebarReducer = (state: sideBarType = initialState, action: actionsType): sideBarType  => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n    }\r\n}","import {serverApi} from \"./serverApi\";\r\nimport {fullUserType} from \"../redux/profileReducer\";\r\n\r\ntype responseProfileType = fullUserType\r\ntype putStatusResponseType = {\r\n    resultCode: number,\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return serverApi\r\n            .get<responseProfileType>(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return serverApi\r\n            .get<string>(`/profile/status/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    renewStatus(newStatus: string) {\r\n        return serverApi\r\n            .put<putStatusResponseType>(`/profile/status`, {status: newStatus})\r\n            .then(response => response.data)\r\n    },\r\n}","import {v1} from \"uuid\";\r\nimport {actionsType, dispatchType} from \"./redux_store\";\r\nimport {profileAPI} from \"../api/profileAPI\";\r\n\r\n//constants\r\nconst CHANGE_NEW_COMMENT_TEXT = 'CHANGE-NEW-COMMENT-TEXT'\r\nconst ADD_COMMENT = 'ADD-COMMENT'\r\nconst SET_USER = 'SET-USER'\r\nconst CHANGE_LOAD_USER_STATUS = 'CHANGE-LOAD-USER-STATUS'\r\nconst CHANGE_MY_STATUS = 'CHANGE_MY_STATUS'\r\n\r\n//types\r\nexport type fullUserType = {\r\n    aboutMe: string,\r\n    status: string,\r\n    contacts: {\r\n        facebook: null | string,\r\n        website: null | string,\r\n        vk: null | string,\r\n        twitter: null | string,\r\n        instagram: null | string,\r\n        youtube: null | string,\r\n        github: null | string,\r\n        mainLink: null | string,\r\n    },\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    userId: number,\r\n    photos: {\r\n        small: null | string | HTMLImageElement,\r\n        large: null | string | HTMLImageElement,\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const changeNewCommentTextActionCreator = (newComm: string) => {\r\n    return {\r\n        type: CHANGE_NEW_COMMENT_TEXT,\r\n        newComm: newComm\r\n    } as const\r\n}\r\nexport const addCommentActionCreator = (text: string) => {\r\n    return {\r\n        type: ADD_COMMENT,\r\n        comment: text\r\n    } as const\r\n}\r\nexport const setUser = (user: fullUserType) => {\r\n    return {\r\n        type: SET_USER,\r\n        payload: {\r\n            currentUserData: user,\r\n        }\r\n    } as const\r\n}\r\nexport const changeLoadUserStatus = (loadUserStatus: boolean) => {\r\n    return {\r\n        type: CHANGE_LOAD_USER_STATUS,\r\n        payload: {\r\n            loadUserStatus\r\n        }\r\n    } as const\r\n}\r\nexport const changeMyStatus = (status: string) => {\r\n    return {\r\n        type: CHANGE_MY_STATUS,\r\n        payload: {\r\n            status\r\n        }\r\n    } as const\r\n}\r\n\r\n//thunks\r\nexport const getProfile = (userId: number) => {\r\n    return (dispatch: dispatchType) => {\r\n        const setIntervalId = setInterval(() => {\r\n            profileAPI.getProfile(userId)\r\n                .then((data) => {\r\n                    clearInterval(setIntervalId)\r\n                    if (data !== null) {\r\n                        profileAPI.getStatus(userId)\r\n                            .then(statusData => {\r\n                                data.status = statusData ? statusData : ''\r\n                            })\r\n                            .catch(error => {\r\n                                data.status = 'Status was not found'\r\n                                console.log(error.message)\r\n                            })\r\n                            .finally(() => {\r\n                                dispatch(setUser(data))\r\n                            })\r\n                    }\r\n                })\r\n        }, 1000)\r\n        return Number(setIntervalId)\r\n    }\r\n}\r\n\r\n\r\n//types\r\nexport type commentType = {\r\n    id: string\r\n    postId: string\r\n    text: string\r\n    answer: string\r\n}\r\nexport type ProfilePageType = {\r\n    currentUserId: null | number,\r\n    currentUserData: fullUserType,\r\n    loadUserStatus: boolean,\r\n    comments: commentType[],\r\n    newComm: string,\r\n}\r\n\r\n//actions types\r\nexport type addCommentActionType = ReturnType<typeof addCommentActionCreator>\r\nexport type changeNewCommentTextActionType = ReturnType<typeof changeNewCommentTextActionCreator>\r\nexport type setUserActionType = ReturnType<typeof setUser>\r\nexport type changeLoadUserStatusActionType = ReturnType<typeof changeLoadUserStatus>\r\nexport type changeMyStatusActionType = ReturnType<typeof changeMyStatus>\r\n\r\n//data\r\nconst comments: commentType[] = [\r\n    {\r\n        id: v1(),\r\n        postId: v1(),\r\n        text: 'hello',\r\n        answer: v1()\r\n    },\r\n    {\r\n        id: v1(),\r\n        postId: v1(),\r\n        text: 'hello',\r\n        answer: v1()\r\n    },\r\n    {\r\n        id: v1(),\r\n        postId: v1(),\r\n        text: 'hello',\r\n        answer: v1()\r\n    }\r\n]\r\n\r\nexport const testUser: fullUserType = {\r\n    aboutMe: 'some text',\r\n    status: '',\r\n    contacts: {\r\n        facebook: null,\r\n        website: null,\r\n        vk: null,\r\n        twitter: null,\r\n        instagram: null,\r\n        youtube: null,\r\n        github: 'https://github.com/GlennMiller1991',\r\n        mainLink: null,\r\n    },\r\n    lookingForAJob: true,\r\n    lookingForAJobDescription: 'React-developer',\r\n    fullName: 'Alexander',\r\n    userId: -1,\r\n    photos: {\r\n        small: null,\r\n        large: null,\r\n    }\r\n}\r\nconst initialState = {\r\n    currentUserId: 1456,\r\n    currentUserData: testUser,\r\n    loadUserStatus: true,\r\n    comments: comments,\r\n    newComm: ''\r\n}\r\n\r\n//reducer\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: actionsType) => {\r\n    switch (action.type) {\r\n        case CHANGE_NEW_COMMENT_TEXT:\r\n            return {...state, newComm: action.newComm}\r\n        case ADD_COMMENT:\r\n            return {\r\n                ...state,\r\n                comments: [...state.comments, {\r\n                    text: action.comment,\r\n                    id: v1(),\r\n                    postId: v1()\r\n                }],\r\n                newComm: ''\r\n            }\r\n        case CHANGE_MY_STATUS:\r\n        case CHANGE_LOAD_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                loadUserStatus: false,\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}","import {userType} from \"../redux/usersReducer\";\r\nimport {serverApi} from \"./serverApi\";\r\n\r\ntype usersGetType = {\r\n    items: userType[]\r\n    error: number | null\r\n    totalCount: number\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageSize: number, currentPage: number) {\r\n        return serverApi\r\n            .get<usersGetType>(`users?count=${pageSize}&page=${currentPage}`)\r\n            .then(response => response.data)\r\n    }\r\n}","import {serverApi} from \"./serverApi\";\r\n\r\ntype followResponseType = {\r\n    data: {},\r\n    messages: string[],\r\n    fieldsErrors: string[],\r\n    resultCode: number,\r\n}\r\n\r\nexport const followAPI = {\r\n    follow(userId: number) {\r\n        return serverApi\r\n            .post<followResponseType>(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return serverApi\r\n            .delete<followResponseType>(`follow/${userId}`)\r\n    },\r\n}","import {actionsType, dispatchType} from \"./redux_store\";\r\nimport {usersAPI} from \"../api/usersAPI\";\r\nimport {followAPI} from \"../api/followAPI\";\r\n\r\n//constants\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET-USERS'\r\nconst CHANGE_USER_PAGE = 'CHANGE-USER-PAGE'\r\nconst CHANGE_PAGE_FIELD_VALUE = 'CHANGE-PAGE-FIELD-VALUE'\r\nconst CHANGE_LOAD_STATUS = 'CHANGE-LOAD-STATUS'\r\nconst CHANGE_SUB_BTN = 'CHANGE-SUB-BTN'\r\n\r\n//types\r\nexport type userType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: null | string\r\n    followed: boolean\r\n    status: null\r\n    photos: {\r\n        large: null | string | HTMLImageElement\r\n        small: null | string | HTMLImageElement\r\n    },\r\n    waitForChangingStatus: boolean,\r\n}\r\nexport type usersPageType = {\r\n    users: userType[],\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    pageFieldValue: string,\r\n    usersIsLoaded: boolean,\r\n}\r\n\r\n//actions type\r\nexport type followActionType = ReturnType<typeof follow>\r\nexport type unfollowActionType = ReturnType<typeof unfollow>\r\nexport type setUsersActionType = ReturnType<typeof setUsers>\r\nexport type changeUsersPageActionType = ReturnType<typeof changeUsersPage>\r\nexport type changePageFieldValueActionType = ReturnType<typeof changePageFieldValue>\r\nexport type changeLoadStatusActionType = ReturnType<typeof changeLoadStatus>\r\nexport type changeSubBtnActionType = ReturnType<typeof changeSubBtn>\r\n\r\n//actions creators\r\nexport const changeSubBtn = (userId: number, value: boolean) => {\r\n    return {\r\n        type: CHANGE_SUB_BTN,\r\n        payload: {\r\n            userId,\r\n            value,\r\n        }\r\n    } as const\r\n}\r\nexport const follow = (userId: number) => {\r\n    return {\r\n        type: FOLLOW,\r\n        payload: {\r\n            userId: userId\r\n        }\r\n    } as const\r\n}\r\nexport const unfollow = (userId: number) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        payload: {\r\n            userId: userId\r\n        }\r\n    } as const\r\n}\r\nexport const setUsers = (users: userType[], total: number) => {\r\n    return {\r\n        type: SET_USERS,\r\n        payload: {\r\n            users: users,\r\n            totalUsersCount: total,\r\n        }\r\n    } as const\r\n}\r\nexport const changeUsersPage = (pageNumber: number) => {\r\n    return {\r\n        type: CHANGE_USER_PAGE,\r\n        payload: {\r\n            currentPage: pageNumber,\r\n            pageFieldValue: String(pageNumber),\r\n        }\r\n    } as const\r\n}\r\nexport const changePageFieldValue = (value: string) => {\r\n    return {\r\n        type: CHANGE_PAGE_FIELD_VALUE,\r\n        payload: {\r\n            pageFieldValue: value\r\n        }\r\n    } as const\r\n}\r\nexport const changeLoadStatus = (usersIsLoaded: boolean) => {\r\n    return {\r\n        type: CHANGE_LOAD_STATUS,\r\n        payload: {\r\n            usersIsLoaded\r\n        }\r\n    } as const\r\n}\r\n\r\n//thunk and thunk creators\r\nexport const getUsers = (pageSize: number, currentPage: number) => {\r\n    return (dispatch: dispatchType) => {\r\n        const setIntervalId = setInterval(() => {\r\n            usersAPI.getUsers(pageSize, currentPage)\r\n                .then(data => {\r\n                    clearInterval(setIntervalId)\r\n                    dispatch(setUsers(data.items.map(item => {\r\n                            return {...item, waitForChangingStatus: false}\r\n                        }), data.totalCount)\r\n                    )\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        }, 1000)\r\n        return Number(setIntervalId)\r\n    }\r\n}\r\nexport const renewUsers = (requiredPage: number, pageSize: number) => {\r\n    return (dispatch: dispatchType) => {\r\n        dispatch(changeUsersPage(requiredPage))\r\n        usersAPI.getUsers(pageSize, requiredPage)\r\n            .then(data => {\r\n                dispatch(setUsers(data.items, data.totalCount))\r\n            })\r\n            .catch(() => {\r\n                dispatch(changeLoadStatus(true))\r\n            })\r\n    }\r\n}\r\nexport const followUser = (userId: number) => {\r\n    return (dispatch: dispatchType) => {\r\n        dispatch(changeSubBtn(userId, true))\r\n        followAPI.follow(userId)\r\n            .then(() => {\r\n                dispatch(follow(userId))\r\n            })\r\n            .finally(() => {\r\n                dispatch(changeSubBtn(userId, false))\r\n            })\r\n    }\r\n}\r\nexport const unfollowUser = (userId: number) => {\r\n    return (dispatch: dispatchType) => {\r\n        dispatch(changeSubBtn(userId, true))\r\n        followAPI.unfollow(userId)\r\n            .then(() => {\r\n                dispatch(unfollow(userId))\r\n            })\r\n            .finally(() => {\r\n                dispatch(changeSubBtn(userId, false))\r\n            })\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    users: [],\r\n    totalUsersCount: 0,\r\n    pageSize: 16,\r\n    currentPage: 1,\r\n    pageFieldValue: '1',\r\n    usersIsLoaded: true,\r\n}\r\nexport const usersReducer = (state: usersPageType = initialState, action: actionsType) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                        return (\r\n                            user.id === action.payload.userId ?\r\n                                {...user, followed: true} :\r\n                                user\r\n                        )\r\n                    }\r\n                ),\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                        return (\r\n                            user.id === action.payload.userId ?\r\n                                {...user, followed: false} :\r\n                                user\r\n                        )\r\n                    }\r\n                )\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                usersIsLoaded: false,\r\n            }\r\n        case CHANGE_USER_PAGE:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case CHANGE_PAGE_FIELD_VALUE:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case CHANGE_LOAD_STATUS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case CHANGE_SUB_BTN:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(\r\n                    user =>\r\n                        user.id === action.payload.userId ?\r\n                            {...user, waitForChangingStatus: action.payload.value} :\r\n                            user\r\n                )\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import {applyMiddleware, combineReducers, createStore, EmptyObject, Store} from \"redux\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {\r\n    addPostActionType, changeFieldValueActionType, changePostsPageActionType,\r\n    filterPostsActionType,\r\n    postsPageType,\r\n    postsReducer, setPostsActionType\r\n} from \"./postsReducer\";\r\nimport {changeShareStoryTextActionType, shareStoryPageType, shareStoryReducer} from \"./shareStoryReducer\";\r\nimport {dialogsPageType, dialogsReducer, filterMessagesActionType} from \"./dialogsReducer\";\r\nimport {sidebarReducer, sideBarType} from \"./sidebarReducer\";\r\nimport {\r\n    addCommentActionType, changeLoadUserStatusActionType, changeMyStatusActionType,\r\n    changeNewCommentTextActionType,\r\n    ProfilePageType,\r\n    profileReducer, setUserActionType\r\n} from \"./profileReducer\";\r\nimport {\r\n    changeLoadStatusActionType,\r\n    changePageFieldValueActionType, changeSubBtnActionType,\r\n    changeUsersPageActionType,\r\n    followActionType,\r\n    setUsersActionType,\r\n    unfollowActionType,\r\n    usersPageType,\r\n    usersReducer\r\n} from \"./usersReducer\";\r\nimport {authReducer, nullDataActionType, setAuthDataActionType, setVkIsAuthActionType} from \"./authReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {appReducer, initializingActionType, setErrorActionType} from \"./appReducer\";\r\n\r\n//types\r\nexport type dispatchType = typeof store.dispatch\r\nexport type stateType = ReturnType<typeof reducers>\r\n\r\nexport type StoreType = Store<EmptyObject & {\r\n    postsPage: postsPageType;\r\n    profilePage: ProfilePageType;\r\n    shareStoryPage: shareStoryPageType;\r\n    dialogsPage: dialogsPageType;\r\n    sideBar: sideBarType,\r\n    usersPage: usersPageType,\r\n}, actionsType>\r\nexport type actionsType = addPostActionType\r\n    | setVkIsAuthActionType\r\n    | changePostsPageActionType\r\n    | changeFieldValueActionType\r\n    | initializingActionType\r\n    | setPostsActionType\r\n    | setErrorActionType\r\n    | nullDataActionType\r\n    | changeShareStoryTextActionType\r\n    | changeNewCommentTextActionType\r\n    | addCommentActionType\r\n    | filterPostsActionType\r\n    | filterMessagesActionType\r\n    | followActionType\r\n    | unfollowActionType\r\n    | setUsersActionType\r\n    | changeUsersPageActionType\r\n    | changePageFieldValueActionType\r\n    | changeLoadStatusActionType\r\n    | setUserActionType\r\n    | changeLoadUserStatusActionType\r\n    | setAuthDataActionType\r\n    | changeSubBtnActionType\r\n    | changeMyStatusActionType\r\n\r\nconst reducers = combineReducers({\r\n    postsPage: postsReducer,\r\n    profilePage: profileReducer,\r\n    shareStoryPage: shareStoryReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    authState: authReducer,\r\n    appState: appReducer,\r\n    form: formReducer,\r\n})\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunk))\r\n\r\n// @ts-ignore\r\nwindow.store = store","type validatorType = (value: string) => undefined | string\r\n\r\nexport const requiredField: validatorType = (value) => {\r\n    if (value) return undefined\r\n    else return 'Field is required'\r\n}\r\n\r\nconst maxLength = (maxChars: number): validatorType => (value) => {\r\n    if (value.length > maxChars) return `Max chars is ${maxChars}`\r\n    else return undefined\r\n}\r\n\r\nexport const maxLength10 = maxLength(10)\r\n\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {initializingThunk} from \"../../redux/appReducer\";\r\n\r\nexport const Header: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const initialize = () => {\r\n        dispatch(initializingThunk())\r\n    }\r\n    console.log('from header')\r\n    return (\r\n        <div id={styles.header}>\r\n            <div id={styles.textContainer}>\r\n                <h4>Внимание!</h4>\r\n                <p>\r\n                    Веб-приложение носит учебный характер. Какая-то часть его функционала\r\n                    будет доступна неавторизованным пользователям, однако для полной демонстрации\r\n                    потребуется авторизация ВКонтакте и на сайте https://social-network.samuraijs.com/\r\n                </p>\r\n                <p>\r\n                    На данном сайте присутствует ненормативная\r\n                    лексика, которая может оскорбить ваши чувства. Здесь\r\n                    анонимы делятся исключительно своим мнением, совпадения\r\n                    с реальными людьми/компаниями случайны (иногда).\r\n                </p>\r\n                <p>\r\n                    Нажимая на изображение, вы подтверждаете, что вам есть 18\r\n                    лет, и вы принимаете всю ответственность за\r\n                    прочитанное на себя.\r\n                </p>\r\n                <button id={styles.enterBtn}\r\n                        onClick={initialize}>\r\n                    <img id={styles.imgBtn}\r\n                         src='https://share.cdn.viber.com/pg_download?id=0-04-05-a50d6229fb2be5d62ec2f08878bf7ee2e7ca1cbb7bdf45439bc1499398711fee&filetype=jpg&type=icon'\r\n                         alt='No'/>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n        ;\r\n}\r\n","import React from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {stateType} from \"../../../../redux/redux_store\";\r\nimport {authType, log} from \"../../../../redux/authReducer\";\r\nimport styles from \"../Nava.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const LoginButton = React.memo(() => {\r\n    const authState = useSelector<stateType, authType>(state => state.authState)\r\n    const dispatch = useDispatch()\r\n    const onLogoutClick = () => {\r\n        dispatch(log(false))\r\n    }\r\n    return (\r\n        <div className={`${styles.button}`}>\r\n            {\r\n                authState.isAuth ?\r\n                    <span className={styles.link} onClick={onLogoutClick}>\r\n                        LOGOUT\r\n                    </span> :\r\n                    <NavLink activeClassName={styles.active}\r\n                             to='/login'>\r\n                        LOGIN\r\n                    </NavLink>\r\n            }\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styles from \"./Nava.module.css\";\r\nimport {LoginButton} from \"./LoginButton/LoginButton\";\r\n\r\nconst NavaSecret = () => {\r\n\r\n    return (\r\n        <div id={styles.nava}>\r\n            <div className={styles.button}>\r\n                <NavLink activeClassName={styles.active} to='/'>\r\n                    <img src='https://otvet.imgsmail.ru/download/82092830_8fae13c057d409cc317bcda273f470e5_800.jpg'\r\n                         alt='Nothing'/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.button}>\r\n                <NavLink activeClassName={styles.active} to='/share'>\r\n                    SHARE\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.button}>\r\n                <NavLink activeClassName={styles.active} to='/profile'>\r\n                    PROFILE\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.button}>\r\n                <NavLink activeClassName={styles.active} to='/dialogs'>\r\n                    DIALOGS\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.button}>\r\n                <NavLink activeClassName={styles.active} to='/users'>\r\n                    USERS\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.button}></div>\r\n            <div className={styles.button}></div>\r\n            <LoginButton/>\r\n        </div>\r\n    );\r\n}\r\nexport const Nava = React.memo(NavaSecret)\r\n\r\n","export default \"data:image/jpeg;base64,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ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=\"","import React, {useEffect, useState} from \"react\";\r\n\r\nexport const PageLoader = React.memo(() => {\r\n\r\n        //initial state\r\n        const [seconds, setSeconds] = useState(() => 77726)\r\n\r\n        //dinamic styles\r\n        const secondsStyle = {\r\n            transform: `rotate(${seconds * 6}deg`\r\n        }\r\n        const minutesStyle = {\r\n            transform: `rotate(${seconds * 0.1}deg`\r\n        }\r\n        const hoursStyle = {\r\n            transform: `rotate(${seconds * 0.0083333333}deg`\r\n        }\r\n        useEffect(() => {\r\n            const intervalId = setInterval(() => {\r\n                setSeconds(seconds => seconds + 1)\r\n            }, 4)\r\n            return () => {\r\n                clearInterval(intervalId)\r\n            }\r\n        }, [])\r\n        return (\r\n            <div className=\"clock\">\r\n                <div className=\"outer-clock-face\">\r\n                    <div className=\"marking marking-one\"></div>\r\n                    <div className=\"marking marking-two\"></div>\r\n                    <div className=\"marking marking-three\"></div>\r\n                    <div className=\"marking marking-four\"></div>\r\n                    <div className=\"inner-clock-face\">\r\n                        <span className=\"captionInsideClock\">One more<br/>second</span>\r\n                        <div className=\"hand hour-hand\" style={hoursStyle}></div>\r\n                        <div className=\"hand min-hand\" style={minutesStyle}></div>\r\n                        <div className=\"hand second-hand\" style={secondsStyle}></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n)","import React, {ChangeEvent} from \"react\";\r\nimport {profileAPI} from \"../../../../../api/profileAPI\";\r\n\r\ntype UserStatusPropsType = {\r\n    userId: number,\r\n    status: string,\r\n    isYourStatus: boolean,\r\n    changeStatusHandler: (status: string) => void,\r\n}\r\n\r\nexport class UserStatus extends React.Component<UserStatusPropsType, any> {\r\n    constructor(props: UserStatusPropsType) {\r\n        super(props);\r\n    }\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    onChangeStatusHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            status: e.currentTarget.value,\r\n        })\r\n    }\r\n\r\n    toggleChangeMode = () => {\r\n        this.setState({\r\n            editMode: !this.state.editMode,\r\n        })\r\n    }\r\n\r\n    onBlurStatusHandler = () => {\r\n        this.toggleChangeMode()\r\n        profileAPI.renewStatus(this.state.status)\r\n            .then(data => {\r\n                if (data.resultCode) {\r\n                    throw new Error('error occurs during renewStatus')\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.message)\r\n                this.setState({\r\n                    status: this.props.status,\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        console.log('from user status')\r\n        if (this.props.isYourStatus) {\r\n            return (\r\n                <React.Fragment>\r\n                    <li>\r\n                        {\r\n                            this.state.editMode ?\r\n                                <input autoFocus\r\n                                       value={this.state.status}\r\n                                       onBlur={this.onBlurStatusHandler}\r\n                                       onChange={this.onChangeStatusHandler}/> :\r\n                                <span onDoubleClick={this.toggleChangeMode}>\r\n                                    {\r\n                                        this.state.status ?\r\n                                            this.state.status :\r\n                                            'change your status'\r\n                                    }\r\n                                </span>\r\n                        }\r\n\r\n                    </li>\r\n                    <hr/>\r\n                </React.Fragment>\r\n            )\r\n        } else {\r\n            return (\r\n                <React.Fragment>\r\n                    {\r\n                        this.state.status &&\r\n                        <React.Fragment>\r\n                            <li>{this.state.status}</li>\r\n                            <hr/>\r\n                        </React.Fragment>\r\n                    }\r\n                </React.Fragment>\r\n            )\r\n        }\r\n    }\r\n}","import React from \"react\";\r\nimport {fullUserType} from \"../../../../redux/profileReducer\";\r\nimport anonym from \"../../../../static/anonym.jpg\";\r\nimport styles from './UserInfo.module.css'\r\nimport {PageLoader} from \"../../../common/visual/PageLoader/PageLoader\";\r\nimport {UserStatus} from \"./UserStatus/UserStatus\";\r\n\r\ntype UserInfoPropsType = {\r\n    user: fullUserType,\r\n    currentUser: number | null,\r\n    changeStatusHandler: (status: string) => void,\r\n}\r\nexport const UserInfo: React.FC<UserInfoPropsType> = React.memo((props) => {\r\n        console.log('from user info')\r\n        if (props.user.userId !== -1) {\r\n\r\n            return (\r\n                <div className={styles.wrapper}>\r\n                    <div className={styles.photoWrapper}>\r\n                        <img className={styles.photo}\r\n                            //@ts-ignore\r\n                             src={props.user.photos.large || anonym}\r\n                             alt={'there is no foto'}/></div>\r\n                    <div className={styles.textContainer}>\r\n                        <ul className={styles.text}>\r\n                            <UserStatus userId={props.user.userId}\r\n                                        status={props.user.status}\r\n                                        changeStatusHandler={props.changeStatusHandler}\r\n                                        isYourStatus={props.currentUser === props.user.userId}/>\r\n                            {props.user.userId && <li>{props.user.userId}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.fullName && <li>{props.user.fullName}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.aboutMe && <li>{props.user.aboutMe}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.lookingForAJobDescription && <li>{props.user.lookingForAJobDescription}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.contacts.vk && <li>{props.user.contacts.vk}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.contacts.github && <li>{props.user.contacts.github}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.contacts.instagram && <li>{props.user.contacts.instagram}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.contacts.website && <li>{props.user.contacts.website}\r\n                                <hr/>\r\n                            </li>}\r\n                            {props.user.contacts.facebook && <li>{props.user.contacts.facebook}\r\n                                <hr/>\r\n                            </li>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <PageLoader/>\r\n            )\r\n        }\r\n    }\r\n)\r\n\r\n","import React, {ChangeEvent} from 'react';\r\nimport {ProfilePageType} from \"../../../redux/profileReducer\";\r\nimport {UserInfo} from \"./UserInfo/UserInfo\";\r\n\r\nexport type ProfilePropsType = {\r\n    onChangeCallback: (event: ChangeEvent<HTMLInputElement>) => void\r\n    onClickCallback: (text: string) => void,\r\n    state: ProfilePageType,\r\n    currentUser: number | null,\r\n    changeStatusHandler: (status: string) => void,\r\n}\r\n\r\nexport const Profile: React.FC<ProfilePropsType> = React.memo((props) => {\r\n    console.log('from ProfileSecret')\r\n    return (\r\n        <React.Fragment>\r\n            <UserInfo user={props.state.currentUserData} currentUser={props.currentUser} changeStatusHandler={props.changeStatusHandler}/>\r\n        </React.Fragment>\r\n    )\r\n})\r\n","import React from \"react\";\r\nimport styles from './Login.module.css'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {log} from \"../../../redux/authReducer\";\r\nimport {WrappedFieldProps} from \"redux-form/lib/Field\";\r\nimport {CustomFormPropsType} from \"../ShareStory/ShareStoryContainer\";\r\nimport {requiredField} from \"../../../utils/validators/validator\";\r\nimport {setError} from \"../../../redux/appReducer\";\r\n\r\nexport const Login: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const onSubmitHandle = (formData: LoginFormPropsType) => {\r\n        dispatch(log(true, formData))\r\n    }\r\n    return (\r\n        <div className={styles.main}>\r\n            <p className={styles.sign}>Sign in</p>\r\n            <LoginReduxForm onSubmit={onSubmitHandle}/>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype LoginFormPropsType = {\r\n    email: string,\r\n    password: string,\r\n}\r\nexport const LoginForm: React.FC<InjectedFormProps<LoginFormPropsType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={styles.form1}>\r\n            <Field className={styles.un}\r\n                   type=\"text\"\r\n                   placeholder=\"Username\"\r\n                   name={'email'}\r\n                   component={Input}\r\n                   validate={[requiredField,]}/>\r\n            <Field className={styles.pass}\r\n                   type=\"password\"\r\n                   placeholder=\"Password\"\r\n                   name={'password'}\r\n                   component={Input}\r\n                   validate={[requiredField,]}/>\r\n            <button type={'submit'}\r\n                    className={styles.submit}>\r\n                Sign in\r\n            </button>\r\n            <p className={styles.forgot}><a href=\"#\">Forgot Password?</a></p>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const LoginReduxForm = reduxForm<LoginFormPropsType>({\r\n    form: 'login',\r\n})(LoginForm)\r\n\r\nconst Input: React.FC<WrappedFieldProps & CustomFormPropsType> = React.memo((\r\n    {\r\n        meta,\r\n        input,\r\n        ...restProps\r\n    }) => {\r\n    console.log('from input')\r\n    const dispatch = useDispatch()\r\n    const error = !!meta.error && !!meta.touched\r\n    if (error) {\r\n        restProps.className = restProps.className + ' ' + styles.error\r\n        dispatch(setError(meta.error))\r\n    }\r\n    return (\r\n        <div>\r\n            <input {...input} {...restProps}/>\r\n        </div>\r\n    )\r\n})","import React, {ComponentType} from 'react'\r\nimport {useSelector} from \"react-redux\";\r\nimport {stateType} from \"../../../redux/redux_store\";\r\nimport { Login } from '../../Content/Login/Login';\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n     return (props: T) => {\r\n        const isAuth = useSelector<stateType, boolean>(state => state.authState.isAuth)\r\n        if (isAuth) {\r\n            return <Component {...props}/>\r\n        } else {\r\n            return <Login/>\r\n        }\r\n    }\r\n}","import React, {ChangeEvent, useCallback, useEffect, useState} from 'react'\r\nimport {Profile} from \"./Profile\";\r\nimport {\r\n    addCommentActionCreator, changeLoadUserStatus, changeMyStatus,\r\n    changeNewCommentTextActionCreator,\r\n    ProfilePageType,\r\n    setUser\r\n} from \"../../../redux/profileReducer\";\r\nimport {PageLoader} from \"../../common/visual/PageLoader/PageLoader\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {stateType} from \"../../../redux/redux_store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {authType} from \"../../../redux/authReducer\";\r\nimport {profileAPI} from \"../../../api/profileAPI\";\r\nimport {withAuthRedirect} from \"../../common/hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId: string,\r\n}\r\nconst ProfileSideEffectContainer: React.FC<RouteComponentProps<PathParamsType>> = React.memo(\r\n    (props) => {\r\n        //props\r\n        const [renew, setRenew] = useState(false)\r\n        const state = useSelector<stateType, ProfilePageType>(state => state.profilePage)\r\n        const authState = useSelector<stateType, authType>(state => state.authState)\r\n        const dispatch = useDispatch()\r\n        const onChangeCallback = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n            dispatch(changeNewCommentTextActionCreator(event.currentTarget.value))\r\n        }, [dispatch])\r\n        const onClickCallback = useCallback((text: string) => {\r\n            dispatch(addCommentActionCreator(text))\r\n        }, [dispatch])\r\n        const changeMyStatusHandler = useCallback((status: string) => {\r\n            dispatch(changeMyStatus(status))\r\n        }, [dispatch])\r\n        //initial state\r\n        console.log('from profile container')\r\n        useEffect(() => {\r\n            document.title = 'Profile Page'\r\n            const userId = props.match.params.userId ?\r\n                Number(props.match.params.userId) :\r\n                authState.isAuth ? authState.id : null\r\n            if (userId) {\r\n                profileAPI.getProfile(userId)\r\n                    .then((data) => {\r\n                        if (data !== null) {\r\n                            profileAPI.getStatus(userId)\r\n                                .then(statusData => {\r\n                                    data.status = statusData ? statusData : ''\r\n                                })\r\n                                .catch(error => {\r\n                                    data.status = 'Status was not found'\r\n                                    console.log(error.message)\r\n                                })\r\n                                .finally(() => {\r\n                                    dispatch(setUser(data))\r\n                                })\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        setTimeout(() => {\r\n                            console.log('from setTimeout')\r\n                            setRenew(!renew)\r\n                        }, 3000)\r\n                    })\r\n\r\n            }\r\n            return () => {\r\n                dispatch(changeLoadUserStatus(true))\r\n            }\r\n        }, [\r\n            dispatch,\r\n            props.match.params.userId,\r\n            authState.isAuth,\r\n            authState.id,\r\n            renew])\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    state.loadUserStatus ?\r\n                        <PageLoader/> :\r\n                        <Profile onChangeCallback={onChangeCallback}\r\n                                 onClickCallback={onClickCallback}\r\n                                 changeStatusHandler={changeMyStatusHandler}\r\n                                 state={state}\r\n                                 currentUser={authState.isAuth ? authState.id : -1}/>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n)\r\nexport const ProfileContainer = compose<React.ComponentType>(\r\n    withAuthRedirect,\r\n    withRouter\r\n)(ProfileSideEffectContainer)","import React from \"react\";\r\nimport styles from './Post.module.css';\r\nimport {vkPostType} from \"../../../../redux/postsReducer\";\r\nimport {FcLike} from \"react-icons/all\";\r\n\r\n\r\n//types\r\nexport type PostPropsType = {\r\n    postInfo: vkPostType,\r\n}\r\n\r\n//components\r\nconst PostSecret: React.FC<PostPropsType> = (props) => {\r\n    //return\r\n    return (\r\n        <div className={styles.post}>\r\n            <div className={styles.text}>\r\n                <div className={styles.rest}>\r\n                    <div className={styles.like}>\r\n                        <FcLike className={styles.icon}/>\r\n                        {props.postInfo.likes.count}\r\n                    </div>\r\n                    <div className={styles.postDate}>{new Date(props.postInfo.date * 1000).toLocaleDateString(\r\n                        'en-US',\r\n                        {\r\n                            year: 'numeric',\r\n                            month: 'long',\r\n                            day: 'numeric',\r\n                            hour: 'numeric',\r\n                            minute: 'numeric',\r\n                            hour12: false,\r\n                        }\r\n                    )}</div>\r\n                </div>\r\n                <div className={styles.postText}>{props.postInfo.text}</div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport const Post = React.memo(PostSecret)","import React, {KeyboardEvent, MouseEvent} from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\n\r\ntype PaginationSecretPropsType = {\r\n    totalPages: number,\r\n    currentPage: number,\r\n    pageFieldValue: string,\r\n    changePageFieldValue: (value: string) => void\r\n    onKeyPressHandler: (e: KeyboardEvent<HTMLInputElement>) => void,\r\n    onClickHandler: (e: MouseEvent<HTMLSpanElement>, requiredPage: number) => void,\r\n    className?: string,\r\n}\r\n\r\nconst PaginationSecret: React.FC<PaginationSecretPropsType> = (props) => {\r\n    return (\r\n        <div className={styles.pages + ' ' + props.className}>\r\n                    <span className={styles.changePage}\r\n                          onClick={(e) => props.onClickHandler(\r\n                              e,\r\n                              props.currentPage - 1\r\n                          )}>\r\n                        Previous\r\n                    </span>\r\n            <span className={styles.currentPage}>\r\n                        <input size={1}  //String(props.totalUsersCount).length\r\n                               onKeyPress={props.onKeyPressHandler}\r\n                               onChange={(e) => props.changePageFieldValue(e.currentTarget.value)}\r\n                               value={props.pageFieldValue}/>/\r\n                    </span>\r\n            <span className={styles.lastPage}\r\n                  onClick={(e) => props.onClickHandler(\r\n                      e,\r\n                      props.totalPages\r\n                  )}>\r\n                        {props.totalPages}\r\n                    </span>\r\n            <span className={styles.changePage}\r\n                  onClick={(e) => props.onClickHandler(e, props.currentPage + 1)}>\r\n                        Next\r\n                    </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Pagination = React.memo(PaginationSecret)","import React, {KeyboardEvent, MouseEvent, useCallback} from 'react'\r\nimport {Pagination} from \"./Pagination\";\r\n\r\ntype PaginationContainerPropsType = {\r\n    pageSize: number,\r\n    currentPage: number,\r\n    pageFieldValue: string,\r\n    totalUsersCount: number\r\n    changePageFieldValue: (value: string) => void\r\n    renewUsers: (requiredPage: number, pageSize: number) => void,\r\n    className?: string,\r\n}\r\nexport const PaginationContainer: React.FC<PaginationContainerPropsType> = React.memo((props) => {\r\n    const pages = (totalUsersCount: number, pageSize: number) => {\r\n        return Math.ceil(totalUsersCount / pageSize)\r\n    }\r\n    const onClickHandler = useCallback((e: MouseEvent<HTMLSpanElement>, requiredPage: number) => {\r\n        props.renewUsers(requiredPage, props.pageSize)\r\n    }, [props.pageSize])\r\n    const onKeyPressHandler = useCallback(\r\n        (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            const value = e.currentTarget.value\r\n            props.renewUsers(Number(value), props.pageSize)\r\n        }\r\n    },\r\n        [props.pageSize]\r\n    )\r\n\r\n    return (\r\n        <Pagination totalPages={pages(props.totalUsersCount, props.pageSize)}\r\n                    currentPage={props.currentPage}\r\n                    pageFieldValue={props.pageFieldValue}\r\n                    changePageFieldValue={props.changePageFieldValue}\r\n                    onKeyPressHandler={onKeyPressHandler}\r\n                    onClickHandler={onClickHandler}\r\n                    className={props.className? props.className: ''}\r\n                    />\r\n    )\r\n})","import React, {ChangeEvent, useCallback} from \"react\";\r\nimport classes from \"./Posts.module.css\";\r\nimport {Post} from \"./Post/Post\";\r\nimport {changeFieldValue, postsPageType, renewPosts} from \"../../../redux/postsReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {stateType} from \"../../../redux/redux_store\";\r\nimport {PaginationContainer} from \"../Users/Pagination/PaginationContainer\";\r\n\r\nexport type PostsPropsType = {\r\n    state: postsPageType\r\n    onChangeFilterHandler: (event: ChangeEvent<HTMLSelectElement>) => void\r\n}\r\n\r\nconst PostsSecret: React.FC<PostsPropsType> = (props) => {\r\n    const postsPage = useSelector<stateType, postsPageType>(state => state.postsPage)\r\n    const vkIsAuth = useSelector<stateType, boolean>(state => state.authState.vkIsAuth)\r\n    const dispatch = useDispatch()\r\n    const changePageFieldValue = useCallback((field) => {\r\n        dispatch(changeFieldValue(field))\r\n    }, [dispatch])\r\n    const renewItems = useCallback((requiredPage: number, pageSize: number) => {\r\n        dispatch(renewPosts(requiredPage, pageSize, postsPage.pageSize))\r\n    }, [dispatch, postsPage.pageSize])\r\n    //return\r\n    return (\r\n        <div>\r\n            {vkIsAuth &&\r\n                <>\r\n                    <PaginationContainer pageSize={postsPage.pageSize}\r\n                                         className={classes.pagination}\r\n                                         currentPage={postsPage.currentPage}\r\n                                         pageFieldValue={postsPage.field}\r\n                                         totalUsersCount={postsPage.count}\r\n                                         changePageFieldValue={changePageFieldValue}\r\n                                         renewUsers={renewItems}/>\r\n                    <div id={classes.posts}>\r\n                        {props.state.posts.map((post) => {\r\n                            return (\r\n                                <div key={post.hash}>\r\n                                    <Post postInfo={post}/>\r\n                                    <hr/>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Posts = React.memo(PostsSecret)","import React from 'react'\r\nimport {Posts, PostsPropsType} from \"./Posts\";\r\n\r\nexport class PostsSideEffectContainer extends React.Component<PostsPropsType> {\r\n    componentDidMount() {\r\n        document.title = 'Posts Page'\r\n    }\r\n    render() {\r\n        return (\r\n            <Posts {...this.props}/>\r\n        )\r\n    }\r\n}","import {ChangeEvent} from 'react';\r\nimport {changePageSizeActionCreator, pageSizeType} from \"../../../redux/postsReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {actionsType, stateType} from \"../../../redux/redux_store\";\r\nimport {PostsSideEffectContainer} from \"./PostsSideEffectContainer\";\r\n\r\nconst mapStateToProps = (state: stateType) => {\r\n    return {\r\n        state: state.postsPage\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: (obj: actionsType) => void ) => {\r\n    return {\r\n        onChangeFilterHandler: (event: ChangeEvent<HTMLSelectElement>) => {\r\n            dispatch(changePageSizeActionCreator(+event.currentTarget.value as pageSizeType))\r\n        },\r\n    }\r\n}\r\n\r\nexport const PostsContainer = connect(mapStateToProps, mapDispatchToProps)(PostsSideEffectContainer)","import React from \"react\";\r\nimport styles from \"./Chat.module.css\";\r\nimport {ChatType} from \"../../../../redux/dialogsReducer\";\r\n\r\n//types\r\ntype ChatPropsType = {\r\n    messages: Array<ChatType>\r\n}\r\n\r\n//components\r\nconst ChatSecret: React.FC<ChatPropsType> = (props) => {\r\n    console.log('Chat rerender')\r\n    //callbacks\r\n    const mappedMessages = props.messages.map((m) => {\r\n        return (\r\n            <div className={(m.author === 'you') ? styles.you : styles.notYou}\r\n                 key={m.id}>\r\n                {m.author === 'notYou' ?\r\n                    <img src={'https://glennmiller.pythonanywhere.com/static/admin_ava.jpg'}\r\n                         alt={'no foto'}/> : false}\r\n                <div>\r\n                    <div className={styles.author}>\r\n                        {m.author}\r\n                    </div>\r\n                    <div className={styles.message}>\r\n                        {m.message}\r\n                    </div>\r\n                </div>\r\n                {m.author === 'you' ?\r\n                    <img src={'https://glennmiller.pythonanywhere.com/static/admin_ava.jpg'}\r\n                         alt={'no foto'}/> : false}\r\n\r\n            </div>\r\n        );\r\n    });\r\n\r\n    //return\r\n    return (\r\n        <div>\r\n            {mappedMessages}\r\n        </div>\r\n    );\r\n}\r\nexport const Chat = React.memo(ChatSecret)","import React from \"react\";\r\nimport styles from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n//types\r\nexport type OpenDialogPropsType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\n//components\r\nconst OpenDialogSecret: React.FC<OpenDialogPropsType> = (props) => {\r\n    return (\r\n        <div className={styles.openDialog}>\r\n            <NavLink to={`/dialogs/${props.id}`}>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\nexport const OpenDialog = React.memo(OpenDialogSecret)","import React, {useMemo} from 'react';\r\nimport styles from './Dialogs.module.css'\r\nimport {Chat} from \"./Chat/Chat\";\r\nimport {OpenDialog} from \"./OpenDialog/OpenDialog\";\r\nimport {dialogsPageType} from \"../../../redux/dialogsReducer\";\r\nimport {authType} from \"../../../redux/authReducer\";\r\n\r\n//types\r\nexport type DialogsPropsType = {\r\n    dialogState: dialogsPageType,\r\n    filterMessages: (filterValue: string) => void\r\n}\r\n\r\n//components\r\nconst DialogsSecret: React.FC<DialogsPropsType> = (props) => {\r\n    // filter chat messages every rerender, cause message could be added\r\n    // or filter could be changed\r\n    // but useMemo looking for dependencies\r\n    let chatMessagesForRender = useMemo(() => {\r\n            return props.dialogState.filter !== 'all' ?\r\n                props.dialogState.chat.filter(mes => mes.author === props.dialogState.filter) :\r\n                props.dialogState.chat\r\n        },\r\n        [props.dialogState.chat, props.dialogState.filter])\r\n\r\n    //return\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.filter}>\r\n                <div onClick={() => props.filterMessages('you')}>you</div>\r\n                <div onClick={() => props.filterMessages('notYou')}>notYou</div>\r\n                <div onClick={() => props.filterMessages('all')}>all</div>\r\n            </div>\r\n            <div className={styles.openDialogs}>\r\n                {props.dialogState.dialogs.map((dialog) => {\r\n                    return (\r\n                        <OpenDialog key={dialog.id} id={dialog.id} name={dialog.name}/>\r\n                    );\r\n                })}\r\n            </div>\r\n            <div className={styles.dialogs}>\r\n                <Chat messages={chatMessagesForRender}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport const Dialogs = React.memo(DialogsSecret)","import React from 'react'\r\nimport {Dialogs, DialogsPropsType} from \"./Dialogs\";\r\nimport {authType} from \"../../../redux/authReducer\";\r\n\r\ntype DialogsSideEffectContainerPropsType = DialogsPropsType & {\r\n    authState: authType,\r\n}\r\n\r\nexport class DialogsSideEffectContainer extends React.Component<DialogsSideEffectContainerPropsType> {\r\n    componentDidMount() {\r\n        document.title = 'Dialogs Page'\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Dialogs {...this.props}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import {filterMessages} from \"../../../redux/dialogsReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {stateType} from \"../../../redux/redux_store\";\r\nimport {DialogsSideEffectContainer} from \"./DialogsSideEffectContainer\";\r\nimport {withAuthRedirect} from \"../../common/hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst mapStateToProps = (state: stateType) => {\r\n    return {\r\n        dialogState: state.dialogsPage,\r\n        authState: state.authState,\r\n    }\r\n}\r\n\r\nexport const DialogsContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, {filterMessages}),\r\n    withAuthRedirect,\r\n)(DialogsSideEffectContainer)","import {withAuthRedirect} from \"../../common/hoc/withAuthRedirect\";\r\nimport React, {useEffect} from \"react\";\r\nimport styles from \"./ShareStory.module.css\";\r\nimport {InjectedFormProps, reduxForm, Field} from \"redux-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {addPostActionCreator} from \"../../../redux/postsReducer\";\r\nimport {maxLength10, requiredField} from \"../../../utils/validators/validator\";\r\nimport {WrappedFieldProps} from \"redux-form/lib/Field\";\r\nimport {setError} from \"../../../redux/appReducer\";\r\n\r\nexport const ShareStoryContainer: React.FC = withAuthRedirect(() => {\r\n    const dispatch = useDispatch()\r\n    const onSubmitPost = (formData: ShareFormPropsType) => {\r\n        dispatch(addPostActionCreator(formData.story))\r\n        formData.story = ''\r\n    }\r\n    useEffect(() => {\r\n        document.title = 'Share Your Story'\r\n    })\r\n    return (\r\n        <ShareStory onSubmit={onSubmitPost}/>\r\n    )\r\n})\r\n\r\n\r\ntype ShareFormPropsType = {\r\n    story: string,\r\n}\r\nexport const ShareForm: React.FC<InjectedFormProps<ShareFormPropsType>> = React.memo((props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <Field className={styles.txt}\r\n                       type={'text'}\r\n                       component={TextArea}\r\n                       name={'story'}\r\n                       placeholder={'Share your story with us'}\r\n                       validate={[requiredField, maxLength10]}/>\r\n            </form>\r\n        </div>\r\n    )\r\n})\r\n\r\nconst ShareStory = reduxForm<ShareFormPropsType>({form: 'share'})(ShareForm)\r\n\r\nexport type CustomFormPropsType = {\r\n    required?: boolean,\r\n    type: string,\r\n    name: string,\r\n    placeholder: string,\r\n    validate: Function[],\r\n    className: string,\r\n}\r\nconst TextArea: React.FC<WrappedFieldProps & CustomFormPropsType> = React.memo((\r\n    {meta,\r\n        input,\r\n        ...restProps}) => {\r\n    const dispatch = useDispatch()\r\n    const error = !!meta.error && !!meta.touched\r\n    if (error) {\r\n        restProps.className = restProps.className + ' ' + styles.errorBorder\r\n        dispatch(setError(meta.error))\r\n    }\r\n    return (\r\n        <div>\r\n            <textarea {...input} {...restProps}/>\r\n            <button type={'submit'}\r\n                    className={styles.btn}>Send\r\n            </button>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport styles from \"../Sidebar.module.css\";\r\n\r\nexport type postType = {\r\n    text: string\r\n    id: string\r\n}\r\n\r\ntype BestPostsPropsType = {\r\n    bestPosts: Array<postType>\r\n}\r\n\r\nconst BestPostsSecret: React.FC<BestPostsPropsType> = (props) => {\r\n    return (\r\n        <div className={styles.posts}>\r\n            {props.bestPosts.map(bestPost => {\r\n                return <div key={bestPost.id}\r\n                            className={styles.post}>{bestPost.text}</div>\r\n            })}\r\n        </div>\r\n    );\r\n}\r\nexport const BestPosts = React.memo(BestPostsSecret)","import React from 'react'\r\nimport {tagType} from \"../../../../../redux/sidebarReducer\";\r\n\r\ntype TagPropsType = tagType\r\nconst TagSecret: React.FC<TagPropsType> = (props) => {\r\n\r\n    //styles\r\n    const tagStyle = {\r\n        fontSize: props.priority\r\n    }\r\n\r\n    //return\r\n    return (\r\n        <span style={tagStyle}>{props.name} </span>\r\n    );\r\n}\r\nexport const Tag = React.memo(TagSecret)","import React from \"react\";\r\nimport {Tag} from \"./Tag/Tag\";\r\nimport {tagType} from \"../../../../redux/sidebarReducer\";\r\n\r\ntype TagsPropsType = {\r\n    tags: Array<tagType>\r\n}\r\n\r\n const TagsSecret: React.FC<TagsPropsType> = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            {props.tags.map((tag, id) => <Tag key={id} name={tag.name} priority={tag.priority}/>)}\r\n        </div>\r\n    );\r\n}\r\nexport const Tags = React.memo(TagsSecret)","import React from 'react';\r\nimport styles from './Sidebar.module.css';\r\nimport {BestPosts} from \"./BestPosts/BestPosts\";\r\nimport {Tags} from \"./Tags/Tags\";\r\nimport {sideBarType} from \"../../../redux/sidebarReducer\";\r\n\r\ntype SidebarPropsType = {\r\n    state: sideBarType\r\n}\r\n\r\nconst SidebarSecret: React.FC<SidebarPropsType> = (props) => {\r\n    return (\r\n        <div id={styles.sidebar}>\r\n            <BestPosts bestPosts={props.state.bestPosts}/>\r\n            <Tags tags={props.state.tags}/>\r\n        </div>\r\n    );\r\n}\r\nexport const Sidebar = React.memo(SidebarSecret)","import {Sidebar} from \"./Sidebar\";\r\nimport {connect} from \"react-redux\";\r\nimport {actionsType, stateType} from \"../../../redux/redux_store\";\r\n\r\nconst mapStateToProps = (state: stateType) => {\r\n    return {\r\n        state: state.sideBar\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: (action: actionsType) => void) => {\r\n\r\n}\r\nexport const SidebarContainer = connect(mapStateToProps, mapDispatchToProps)(Sidebar)","import React from \"react\";\r\nimport styles from \"./User.module.css\";\r\nimport anonym from \"../../../../static/anonym.jpg\";\r\nimport {userType} from \"../../../../redux/usersReducer\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {authType} from \"../../../../redux/authReducer\";\r\n\r\ntype UserPropsType = userType & {\r\n    followUser: (userId: number) => void,\r\n    unfollowUser: (userId: number) => void,\r\n    authState: authType,\r\n}\r\n\r\nexport const User: React.FC<UserPropsType> = React.memo((props) => {\r\n    console.log('from user')\r\n    return (\r\n        <div key={props.id} className={styles.wrapper}>\r\n            <div className={styles.visual}>\r\n                <div><NavLink to={`/profile/${props.id}`}><img className={styles.photo}\r\n                    //@ts-ignore\r\n                                                               src={props.photos.large || anonym}\r\n                                                               alt={'there is no foto'}/>\r\n                </NavLink></div>\r\n                <div className={styles.name}>\r\n                    {\r\n                        props.name.length > 10 ?\r\n                            props.name.slice(0, 10) + '...' :\r\n                            props.name\r\n                    }\r\n                </div>\r\n                <div>{\r\n                    props.authState.isAuth ?\r\n                        (\r\n                            props.followed ?\r\n                                <button className={styles.unsubBtn}\r\n                                        onClick={() => props.unfollowUser(props.id)}\r\n                                        disabled={props.waitForChangingStatus}>unsubscribe</button> :\r\n                                <button className={styles.subBtn}\r\n                                        onClick={() => props.followUser(props.id)}\r\n                                        disabled={props.waitForChangingStatus}>subscribe</button>\r\n                        ) :\r\n                        <NavLink to={'/login'}>\r\n                            <button className={styles.subBtn}>\r\n                                subscribe\r\n                            </button>\r\n                        </NavLink>\r\n                }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {userType} from \"../../../redux/usersReducer\";\r\nimport styles from './Users.module.css'\r\nimport {User} from \"./User/User\";\r\nimport {PaginationContainer} from \"./Pagination/PaginationContainer\";\r\nimport {authType} from \"../../../redux/authReducer\";\r\n\r\n\r\nexport type UsersPropsType = {\r\n    users: userType[],\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    pageFieldValue: string,\r\n    changePageFieldValue: (value: string) => void,\r\n    getUsers: (pageSize: number, currentPage: number) => number,\r\n    renewUsers: (requiredPage: number, pageSize: number) => void,\r\n    followUser: (userId: number) => void,\r\n    unfollowUser: (userId: number) => void,\r\n    authState: authType,\r\n}\r\n\r\nconst UsersSecret: React.FC<UsersPropsType> = (props) => {\r\n    console.log('from users')\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.page}>\r\n                {props.users.map(user => <User key={user.id}\r\n                                               id={user.id}\r\n                                               name={user.name}\r\n                                               followed={user.followed}\r\n                                               status={user.status}\r\n                                               photos={user.photos}\r\n                                               uniqueUrlName={user.uniqueUrlName}\r\n                                               waitForChangingStatus={user.waitForChangingStatus}\r\n                                               followUser={props.followUser}\r\n                                               unfollowUser={props.unfollowUser}\r\n                                               authState={props.authState}\r\n                />)}\r\n            </div>\r\n            <PaginationContainer pageFieldValue={props.pageFieldValue}\r\n                                 pageSize={props.pageSize}\r\n                                 totalUsersCount={props.totalUsersCount}\r\n                                 currentPage={props.currentPage}\r\n                                 changePageFieldValue={props.changePageFieldValue}\r\n                                 renewUsers={props.renewUsers}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Users = React.memo(UsersSecret)","import React from \"react\";\r\nimport {Users, UsersPropsType} from \"./Users\";\r\nimport {PageLoader} from \"../../common/visual/PageLoader/PageLoader\";\r\n\r\ntype UsersSideEffectContainerPropsType = UsersPropsType & {\r\n    usersIsLoaded: boolean,\r\n}\r\n\r\ntype stateProps = {\r\n    intervalId: number,\r\n}\r\n\r\nexport class UsersSideEffectContainer extends React.Component<UsersSideEffectContainerPropsType, stateProps> {\r\n    constructor(props: UsersSideEffectContainerPropsType) {\r\n        super(props);\r\n        this.state = {\r\n            intervalId: -1,\r\n        }\r\n    }\r\n\r\n    //life cycle\r\n    componentDidMount() {\r\n        document.title = 'Users page'\r\n        this.setState({intervalId: this.props.getUsers(this.props.pageSize, this.props.currentPage)})\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.state.intervalId)\r\n    }\r\n\r\n     render() {\r\n        console.log('from usersSideEffectContainer')\r\n        return (\r\n            <>\r\n                {\r\n                    this.props.usersIsLoaded ?\r\n                        <PageLoader/> :\r\n                        <Users users={this.props.users}\r\n                               totalUsersCount={this.props.totalUsersCount}\r\n                               pageSize={this.props.pageSize}\r\n                               currentPage={this.props.currentPage}\r\n                               pageFieldValue={this.props.pageFieldValue}\r\n                               changePageFieldValue={this.props.changePageFieldValue}\r\n                               getUsers={this.props.getUsers}\r\n                               renewUsers={this.props.renewUsers}\r\n                               followUser={this.props.followUser}\r\n                               unfollowUser={this.props.unfollowUser}\r\n                               authState={this.props.authState}\r\n                        />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}","import {connect} from \"react-redux\";\r\nimport {stateType} from \"../../../redux/redux_store\";\r\nimport {\r\n    changePageFieldValue,\r\n    followUser, getUsers, renewUsers,\r\n    unfollowUser,\r\n} from \"../../../redux/usersReducer\";\r\nimport {UsersSideEffectContainer} from \"./UsersSideEffectContainer\";\r\n\r\nconst mapStateToProps = (state: stateType) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        pageSize: state.usersPage.pageSize,\r\n        currentPage: state.usersPage.currentPage,\r\n        pageFieldValue: state.usersPage.pageFieldValue,\r\n        usersIsLoaded: state.usersPage.usersIsLoaded,\r\n        authState: state.authState,\r\n    }\r\n}\r\nexport const UsersContainer = connect(mapStateToProps, {\r\n    changePageFieldValue,\r\n    getUsers,\r\n    renewUsers,\r\n    followUser,\r\n    unfollowUser,\r\n})(UsersSideEffectContainer)","import React from 'react';\r\nimport styles from './Content.module.css';\r\nimport {Nava} from \"./Nava/Nava\";\r\nimport {Redirect, Route} from 'react-router-dom';\r\nimport {ProfileContainer} from \"./Profile/ProfileContainer\";\r\nimport {PostsContainer} from \"./Posts/PostsContainer\";\r\nimport {DialogsContainer} from \"./Dialogs/DialogsContainer\";\r\nimport {ShareStoryContainer} from \"./ShareStory/ShareStoryContainer\";\r\nimport {SidebarContainer} from \"./Sidebar/SidebarContainer\";\r\nimport {UsersContainer} from \"./Users/UsersContainer\";\r\n\r\n//components\r\nexport const Content: React.FC = () => {\r\n    return (\r\n        <div id={styles.content}>\r\n            <div id={styles.nava}><Nava/></div>\r\n            <div id={styles.contentContent}>\r\n                <div id={styles.general}>\r\n                    <Route path={'/'} exact render={() => <Redirect to={'/main'}/>}/>\r\n                    <Route path='/main' render={() => <PostsContainer/>}/>\r\n                    <Route path='/share' render={() => <ShareStoryContainer/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <Redirect to={'/profile'}/>}/>\r\n                </div>\r\n            </div>\r\n            <div id={styles.sidebar}>\r\n                <div id={styles.general}>\r\n                    <SidebarContainer/></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {useEffect} from \"react\";\r\nimport styles from \"./ErrorMessage.module.css\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setError} from \"../../redux/appReducer\";\r\n\r\ntype ErrorMessagePropsType = {\r\n    message: string,\r\n}\r\nexport const ErrorMessage: React.FC<ErrorMessagePropsType> = React.memo((props) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            dispatch(setError(''))\r\n        }, 10000)\r\n\r\n    }, [dispatch])\r\n    return (\r\n        <div className={styles.errorMessage}>\r\n            <span className={styles.errorText}>\r\n                {\r\n                    props.message\r\n                }. Try again.\r\n            </span>\r\n        </div>\r\n    )\r\n})","import React from 'react';\r\nimport './App.css';\r\nimport {Header} from \"./components/Header/Header\";\r\nimport {Content} from \"./components/Content/Content\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {stateType} from \"./redux/redux_store\";\r\nimport { ErrorMessage } from './components/ErrorMessage/ErrorMessage';\r\nimport {appStateType} from \"./redux/appReducer\";\r\nfunction AppSecret() {\r\n    const appState = useSelector<stateType, appStateType>(state => state.appState)\r\n\r\n    return (\r\n        <HashRouter>\r\n            <div id='appWrapper'>\r\n                {!appState.isInitialized ? <Header/> :\r\n                    <>\r\n                        <Content/>\r\n                    </>}\r\n                {\r\n                    appState.error && <ErrorMessage message={appState.error}/>\r\n                }\r\n            </div>\r\n        </HashRouter>\r\n    );\r\n}\r\n\r\nconst App = React.memo(AppSecret)\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {store} from './redux/redux_store'\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// tlog results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2OjN1\",\"text\":\"Post_text__2-NMW\",\"rest\":\"Post_rest__1itzM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"User_photo__3Cdoq\",\"subBtn\":\"User_subBtn__2sN-w\",\"unsubBtn\":\"User_unsubBtn__3-fGv\",\"wrapper\":\"User_wrapper__1N2Ls\",\"name\":\"User_name__rNMzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Dialogs_container__2hrqh\",\"filter\":\"Dialogs_filter__16R82\",\"openDialogs\":\"Dialogs_openDialogs__1oVHr\",\"dialogs\":\"Dialogs_dialogs__3UQdt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__2f5nC\",\"nava\":\"Content_nava__3BROo\",\"contentContent\":\"Content_contentContent__2dpqp\",\"sidebar\":\"Content_sidebar__25f_Z\",\"general\":\"Content_general__urYej\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserInfo_wrapper__2QSLt\",\"photo\":\"UserInfo_photo__2vN99\",\"textContainer\":\"UserInfo_textContainer__1BsWF\",\"text\":\"UserInfo_text__2OjdK\",\"photoWrapper\":\"UserInfo_photoWrapper__1WtJ1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"changePage\":\"Pagination_changePage__3SWrs\",\"lastPage\":\"Pagination_lastPage__19Pzu\",\"currentPage\":\"Pagination_currentPage__2VClz\",\"pages\":\"Pagination_pages__36aua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2uxCc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1YnuQ\",\"textContainer\":\"Header_textContainer__1aq9N\",\"enterBtn\":\"Header_enterBtn__3lizd\",\"imgBtn\":\"Header_imgBtn__1nTKZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"you\":\"Chat_you__2Lhai\",\"notYou\":\"Chat_notYou__1M0L4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"txt\":\"ShareStory_txt__UWT-J\",\"btn\":\"ShareStory_btn__dE5AT\",\"error\":\"ShareStory_error__GFRSK\",\"errorBorder\":\"ShareStory_errorBorder__2Zzqp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Posts_pagination__26nS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Users_container__35vds\",\"page\":\"Users_page__3OYXD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorMessage\":\"ErrorMessage_errorMessage__2ribo\",\"fade\":\"ErrorMessage_fade__nVW54\",\"errorText\":\"ErrorMessage_errorText__2ew8Q\"};"],"sourceRoot":""}